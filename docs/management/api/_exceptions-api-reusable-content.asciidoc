

// tag::endpoint-exceptions-request-payload-requirements[]
- the `list_id` value must be `{endpoint-artifact-list-id}`
- the `namespace_type` value must be `agnostic`
- the `type` value must be `endpoint`
// end::endpoint-exceptions-request-payload-requirements[]


// tag::create-exception-container-request-body[]
[width="100%",options="header"]
|==============================================
|Name |Type |Description |Required

|`description` |String |Describes the exception container. |Yes
|`list_id` |String |Unique identifier. Must be set to `{endpoint-artifact-list-id}` |Yes
|`meta` |Object |Placeholder for metadata about the list container. |No
|`name` |String |The exception container's name. |Yes
|`namespace_type` |String |Must be set to `agnostic` for endpoint artifacts |Yes
|`tags` |String[] |String array containing words and phrases to help categorize
exception containers. |No
|`type` |String |The type of exception. Must be set to `endpoint` |Yes

|==============================================
// end::create-exception-container-request-body[]


// tag::create-exception-item-request-body[]
[width="100%",options="header"]
|==============================================
|Name |Type |Description |Required

|`comments` |comments[] a|Array of `comment`|No, defaults to empty array.
|`description` |String |Describes the exception item. |Yes
|`entries` |entries[] |Array containing the
exception queries. |Yes.
|`list_id` |String |ID of the associated exception container. Must be set to `{endpoint-artifact-list-id}` |Yes
|`item_id` |String |Unique identifier of the exception item. |No, automatically
created when it is not provided.
|`meta` |Object |Placeholder for metadata about the exception item. |No
|`name` |String |The exception item's name. |Yes
|`namespace_type` |String a|Determines whether the exception item is available
in all {kib} spaces or just the space in which it is created. Must be set to `agnostic` for endpoint artifacts
|Yes
|`tags` |String[] |String array containing words and phrases to help categorize
exception items. |No
|`type` |String a|Exception query type, must be `simple`. |Yes
|`_tags` |String[] |Not applicable. |No

|==============================================
// end::create-exception-item-request-body[]


// tag::update-exception-item-request-body[]
[width="100%",options="header"]
|==============================================
|Name |Type |Description |Required

|`comments` |comments[] a|Array of `comment` fields:

* `comment` (string): Comments about the exception item.
* `id` (string): Existing comment ID, required for updating existing comments.
When unspecified, a new comment is created.

|No, defaults to empty array.

|`description` |String |Describes the exception item. |Yes
|`entries` |entries[] |Array containing the
exception queries. Boolean `AND` logic is used to evaluate the relationship
between array elements. If you want to use `OR` logic, create a separate
exception item. |Yes.
|`id` |String |The item's unique identifier. |Yes, when the item's `item_id` field is not used.
|`item_id` |String |The `item_id` of the item you are updating. |Yes, when
the item's `id` field is not used.
|`meta` |Object |Placeholder for metadata about the exception item. |No
|`name` |String |The exception item's name. |Yes.
|`namespace_type` |String a|Determines whether the exception item is available
in all {kib} spaces or just the space in which it is created, where:

* `single`: Only available in the {kib} space in which it is created.
* `agnostic`: Available in all {kib} spaces.

|No, defaults to `single`.
|`tags` |String[] |String array containing words and phrases to help categorize
exception items. |No
|`type` |String a|Exception query type, must be `simple`. |Yes

|==============================================
// end::update-exception-item-request-body[]



// tag::api-id-or-itemid-query-params[]
The URL query must include one of the following:

* `id` - `/api/exception_lists/items?id=<id>`
* `item_id` - `/api/exception_lists/items?item_id=<item_id>`
// end::api-id-or-itemid-query-params[]


// tag::find-exception-items-query-params[]

[width="100%",options="header"]
|==============================================
|Name |Type |Description |Required

|`list_id` |String |ID of the exception container. Must be set to `{endpoint-artifact-list-id}`. |Yes

|`namespace_type` |String |Must be set to `agnostic` for endpoint artifacts |Yes

|`page` |Integer |The page number to return. |No

|`per_page` |Integer |The number of items to return per page. |No

|`sort_field` |String |Determines which field is used to sort the results. |No

|`sort_order` |String |Determines the sort order, which can be `desc` or `asc`. |No

|==============================================
// end::find-exception-items-query-params[]