[[how-to-query-alert-indices]]
[role="xpack"]
= How to query alert indices
This page explains how you should query alert indices, for example when building rule queries, custom dashboards, or visualizations. (For more information about alert event field definitions, review the [Alert schema].)

The naming conventions for alert indices and their aliases differ depending on which version of {stack} you're running (<8.0 vs 8.0+), but there are aliases that you can query regardless of which version you're using:

[discrete]
=== Best practices
If you're using a version before 8.0, you should query the following index alias:

* `.siem-signals-<space id>` (Note that there is no dash or wildcard after the space ID).
For example, to query all spaces: `.siem-signals-*`.

Once you update to 8.0 or higher, you should query the following index alias, which will include both legacy (>8.0) and new alerts:

* `.alerts-security.alerts-<space id>` (Note that there is no dash or wildcard after the space ID).
For example, to query all spaces: `.alerts-security.alerts-*`.

[discrete]
=== Acceptable practices
Queries on the following index aliases will function regardless of your {stack} version, but will not follow the `.alerts` naming convention and may be deprecated in future releases:

* `.siem-signals-<space ID>` (Note that there is no dash or wildcard after the space ID).
For example, to query all spaces: `.siem-signals-*`.

To learn more about how alert indices and aliases are defined in different versions of the {stack}, see below.

[discrete]
== Alert indices by {stack} version
Alert events are stored in hidden {es} indices. How those indices are defined depends on which version of {es} created the alerts.

[discrete]
=== Alerts from {stack} versions <8.0:

* The naming convention is `.siem-signals-<space id>-NNNNNN` where `NNNNNN` is a number that counts up over time, starting from 000001.

[discrete]
=== Alerts from {stack} versions 8.0+:

* The naming convention is `.internal.alerts-security.alerts-<space id>-NNNNNN` where `NNNNNN` is a number that counts up over time, starting from 000001.

[discrete]
== Alert aliases by {stack} version
We recommend you query alert aliases instead of directly querying alert indices so that you don't have to worry about the numbered indices described in the previous section. Alert index aliases differ based on which version you're running. The best practices above describe which aliases work for any {stack} version. Here is a complete list of the available alert index aliases, by version.

[discrete]
=== For alerts from versions <8.0:

* `.siem-signals-<space id>`
* `.alerts-security.alerts-<space id>` (Only available after upgrading to 8.0).
NOTE: Alerts from versions <8.0 will stay saved in legacy alert indices, but can be queried using the new alias once you upgrade to 8.0.

[discrete]
=== For alerts from versions 8.0+:

* `.siem-signals-<space id>`
* `.alerts-security.alerts-<space id>`
