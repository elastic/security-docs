[[timeline-object-schema]]
[role="xpack"]
== Timeline object schema

This screenshot maps the Timeline UI components to their JSON objects:

[role="screenshot"]
image::images/timeline-object-ui.png[]

. <<timeline-object-title, Title>>
. <<timeline-object-desc, Description>>
. <<timeline-object-global-notes, Global notes>>
. <<timeline-object-daterange, Time filter>> (`dateRange`)
. <<timeline-object-dropzone, Dropzone>>: Each clause is contained in
its own `dataProviders` object.
. <<timeline-object-kqlmode, KQL bar mode>> (filter results or search for
additional matches)
. <<timeline-object-kqlquery, KQL bar query>>
. <<timeline-object-eventtype, Included event types>>
. <<timeline-object-filters, Additional filters>> (`filters`)
. <<timeline-object-columns, Column headers>> (`columns`)
. <<timeline-object-event-notes, Event-specific notes>> (`eventNotes`)

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|[[timeline-object-columns]]`columns` |<<col-obj, columns[]>> |Timeline columns.
|`created` |Float |The time the timeline was created, using a 13-digit Epoch
timestamp.
|`createdBy` |String |The user who created the timeline.
|[[timeline-object-dropzone]]`dataProviders`
|<<dataProvider-obj, dataProviders[]>> |Object containing dropzone query
clauses.
|[[timeline-object-daterange]]`dateRange` |dateRange a|The timeline's range:

* `end`: The time up to which events are searched, using a 13-digit Epoch
timestamp.
* `start`: The time from which events are searched, using a 13-digit Epoch
timestamp.

|[[timeline-object-desc]]`description` |String |The timeline's description.
|[[timeline-object-event-notes]]`eventNotes` |<<eventNotes-obj, eventNotes[]>>
|Notes added to specific events in the timeline.
|[[timeline-object-eventtype]]`eventType` |String a|Event types displayed in
the timeline, which can be:

* `all`: all events
* `raw`: raw events only
* `signal`: signals only

|`favorite` |<<favorite-obj, favorite[]>> |Indicates who marked a timeline as a
favorite, and at what time.
|[[timeline-object-filters]]`filters` |<<filters-obj, filters[]>> |Filters used
in addition to the dropzone query.
|[[timeline-object-global-notes]]`globalNotes`
|<<globalNotes-obj, globalNotes[]>> |Notes added to the timeline.
|[[timeline-object-kqlmode]]`kqlMode` |String a|Indicates whether the KQL bar
filters the dropzone query results or searches for additional results, where:

* `filter`: filters dropzone query results
* `search`: displays additional search results

|[[timeline-object-kqlquery]]`kqlQuery` |<<kqlQuery-obj, kqlQuery>> |Object
describing the KQL bar query.
|`pinnedEventIds` |pinnedEventIds[] |Object containing the IDs of pinned
events.
|`savedObjectId` |String |The timeline's saved object ID.
|`savedQueryId` |String |If used, the saved query ID used to filter or search
dropzone query results.
|`sort` |sort a|Object indicating how rows are sorted in the timeline's grid:

* `columnId` (string): The ID of the column used to sort results.
* `sortDirection` (string): The sort direction, which can be either `desc` or
`asc`.

|`templateTimelineId` |String |: ???
|`templateTimelineVersion` |Integer |: ???
|`timelineType` |String a|Indicates whether the timeline is a template or not,
where:

* `default`: Indicates a timeline used to actively investigate events.
* `template`: Indicates a timeline template used with detection rules for
displaying alerts in Timeline.

|[[timeline-object-title]]`title` |String |The timeline's title.
|`updated` |Float |The last time the timeline was updated, using a
13-digit Epoch timestamp.
|`updatedBy` |String |The user who last updated the timeline.
|`version` |String |The timeline's version.
|==============================================

[[col-obj]]
[discrete]
==== columns object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`aggregatable` |Boolean |Indicates whether the column field header can be
aggregated on all indices.
|`category` |String |The ECS field set to which the column field header belongs.
|`description` |String |UI column field description tooltip.
|`example` |String |UI column field example tooltip.
|`indexes` |String |List of indices where the column field header has the same
type, or null if all indices have the same type for the field.
|`id` |String |ECS field alias or user defined field name for the column header.
|`name` |String |Reserved for future use, typically `null`.
|`searchable` |Boolean |Indicates whether the column field header is indexed
for search on all indices.
|`type` |String |Column field header type.
|==============================================

[[dataProvider-obj]]
[discrete]
==== dataProviders object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`and` |dataProviders[] |Array containing clauses using `AND` logic.
|`enabled` |Boolean |Indicates if the dropzone query clause is enabled.
|`excluded` |Boolean |Indicates if the dropzone query clause uses `NOT` logic.
|`id` |String |The dropzone query clause's unique ID.
|`kqlQuery` |String |Always empty.
|`name` |String |The dropzone query clause's name (the clause's value
when timelines are exported).
|`queryMatch` |QueryMatchInput a|The dropzone query clause:

* `displayField`: ???
* `displayValue`: ???
* `field`: The field used to filter results.
* `operator`: The operator between clauses.
* `value`: The field value used to match results.

|==============================================

[[eventNotes-obj]]
[discrete]
==== eventNotes object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`created` |Float |The time the note was created, using a 13-digit Epoch
timestamp.
|`createdBy` |String |The user who added the note.
|`eventId` |String |The ID of the event to which the note was added.
|`note` |String |The note's text.
|`noteId` |String |The note's ID
|`timelineId` |String |The ID of the timeline to which the note was added.
|`updated` |Float |The last time the note was updated, using a
13-digit Epoch timestamp.
|`updatedBy` |String |The user who last updated the note.
|`version` |String |The note's version.
|==============================================

[[favorite-obj]]
[discrete]
==== favorite object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`favoriteDate` |Float |The time the timeline was marked as a favorite.
|`fullName` |String |The full name of the user who marked the timeline as
a favorite.
|`keySearch` |String |???
|`userName` |String |The {kib} username of the user who marked the
timeline as a favorite.
|==============================================

[[filters-obj]]
[discrete]
==== filters object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`exists` |String |Field exists query, or `null` when not defined.
|`meta` |FilterMetaTimelineInput a|Object containing filter details:

* `alias`: UI filter name.
* `disabled`: Indicates if the filter is disabled.
* `field`: ???
* `key`: Field used for filtering results.
* `negate`: Indicates if the filter query clause uses `NOT` logic.
* `params`: Query values ???
* `type`: Type of filter.
* `value`: 

|`match_all` |String |???
|`missing` |String |???
|`query` |String |???
|`range` |String |???
|`script` |String |???
|==============================================

[[globalNotes-obj]]
[discrete]
==== globalNotes object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`created` |Float |The time the note was created, using a 13-digit Epoch
timestamp.
|`createdBy` |String |The user who added the note.
|`note` |String |The note's text.
|`noteId` |String |The note's ID
|`timelineId` |String |The ID of the timeline to which the note was added.
|`updated` |Float |The last time the note was updated, using a
13-digit Epoch timestamp.
|`updatedBy` |String |The user who last updated the note.
|`version` |String |The note's version.
|==============================================

[[kqlQuery-obj]]
[discrete]
==== kqlQuery object

[width="100%",options="header"]
|==============================================
|Name |Type |Description

|`filterQuery` |filterQuery a|Object containing query details:

* `kuery`: Object containing the query's clauses and type:
** `expression`(string): The query's clauses.
** `kind` (string): The type of query, which can be `kuery` or `lucene`.
* `serializedQuery` (string): The query represented in JSON format.
|==============================================
