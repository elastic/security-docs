[[asset-criticality-api-list]]
=== List Asset Criticality Records

List asset criticality data, filtering and sorting as needed

==== Request URL

`POST /api/asset_criticality/list`

==== URL query parameters

[width="100%",options="header"]
|==============================================
|Name |Type |Description |Required

|`sort_field` |String |Which field to sort by, must be one of `id_value`, `id_field`, `criticality_level`, `@timestamp`.
|Yes
|`sort_direction` |String | Either `asc` or `desc`.
|Yes
|`page` |Number | Which page of results to return, must be at least 1.
|Yes
|`per_page` |Number | How many results per page, defaults to 10. Must be between 1 and 1000.
|Yes
|`kuery` |String | A KQL query to filter results by, for example `criticality_level:low_impact OR criticality_level:medium_impact`

|==============================================

===== Example requests

[source,console]
--------------------------------------------------
GET api/asset_criticality/list?kuery=criticality_level:high_impact%20OR%20criticality_level:medium_impact

--------------------------------------------------

==== Response code

`200`::
    Indicates a successful call.

==== Example response

[source,json]
--------------------------------------------------
{
    "records": [
        {
            "id_field": "host.name",
            "id_value": "my_other_host",
            "criticality_level": "medium_impact",
            "@timestamp": "2024-08-02T14:40:35.705Z"
        },
        {
            "id_field": "host.name",
            "id_value": "my_host",
            "criticality_level": "high_impact",
            "@timestamp": "2024-08-02T11:15:34.290Z"
        }
    ],
    "total": 2,
    "page": 1,
    "per_page": 10
}
--------------------------------------------------
