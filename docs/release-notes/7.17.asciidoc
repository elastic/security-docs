[[release-notes-header-7.17.0]]
== 7.17

[discrete]
[[release-notes-7.17.8]]
=== 7.17.8

[discrete]
[[bug-fixes-7.17.8]]
==== Bug fixes and enhancements
* Fixes a bug that caused {elastic-endpoint} to crash when running on busy Linux systems and when protection features for network events and malicious behavior were enabled.

[discrete]
[[release-notes-7.17.7]]
=== 7.17.7

[discrete]
[[bug-fixes-7.17.7]]
==== Bug fixes and enhancements
* Fixes a bug that sometimes caused {elastic-endpoint} to change to a non-running state on Windows endpoints (https://github.com/elastic/endpoint/issues/29[#29]).

[discrete]
[[release-notes-7.17.6]]
=== 7.17.6

[discrete]
[[known-issue-7.17.6]]
==== Known issues
* In some situations, {elastic-endpoint} might change to a non-running state on Windows endpoints and fail to restart. {agent} will have an `Unhealthy` status when this happens (https://github.com/elastic/endpoint/issues/29[#29]).
+
To determine whether {elastic-endpoint} has stopped running because of this issue, run the following PowerShell command as an administrator:

+
[source,console]
--------------------------------------------------
PS C:\Users\user> Get-WinEvent Microsoft-Windows-CodeIntegrity/Operational | where Id -eq 3004 | where Message -match "elastic-endpoint.exe"


   ProviderName: Microsoft-Windows-CodeIntegrity

TimeCreated                      Id LevelDisplayName Message
-----------                      -- ---------------- -------
9/22/2022 10:47:35 AM          3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
9/19/2022 2:10:14 PM           3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
--------------------------------------------------

+

If {elastic-endpoint} is not running, there are several workarounds you can take:

** **Manually uninstall, then reinstall {elastic-endpoint} on affected hosts**: Remove an invalid {elastic-endpoint} installation by running the {elastic-endpoint} <<uninstall-endpoint,uninstall command>> on affected hosts. Once the uninstallation process has finished, run the following command to restart {agent}, which automatically reinstalls {elastic-endpoint}:
+
[source,console]
--------------------------------------------------
c:\Program Files\Elastic\Agent\elastic-agent.exe restart
--------------------------------------------------

** **Uninstall, then reinstall the {endpoint-sec} integration on affected hosts**: Uninstalling and reinstalling the {endpoint-sec} integration on affected hosts will also force the uninstallation and reinstallation of {elastic-endpoint} on these hosts.
+
NOTE: Uninstalling the {endpoint-sec} integration may temporarily cause {agent}'s status to be `Unhealthy`. The status will change to `Healthy` once the integration is reinstalled.

** **Downgrade {agent} and {elastic-endpoint} versions**: Downgrading to unaffected {agent} and {elastic-endpoint} versions resolves this issue.

[discrete]
[[bug-fixes-7.17.6]]
==== Bug fixes and enhancements

There are no user-facing changes in the 7.17.6 release.

[discrete]
[[release-notes-7.17.5]]
=== 7.17.5

[discrete]
[[known-issue-7.17.5]]
==== Known issues
* In some situations, {elastic-endpoint} might change to a non-running state on Windows endpoints and fail to restart. {agent} will appear `Unhealthy` when this happens (https://github.com/elastic/endpoint/issues/29[#29]).
+
To determine whether {elastic-endpoint} has stopped running because of this issue, run the following PowerShell command as an administrator:

+
[source,console]
--------------------------------------------------
PS C:\Users\user> Get-WinEvent Microsoft-Windows-CodeIntegrity/Operational | where Id -eq 3004 | where Message -match "elastic-endpoint.exe"


   ProviderName: Microsoft-Windows-CodeIntegrity

TimeCreated                      Id LevelDisplayName Message
-----------                      -- ---------------- -------
9/22/2022 10:47:35 AM          3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
9/19/2022 2:10:14 PM           3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
--------------------------------------------------

+

If {elastic-endpoint} is not running, there are several workarounds you can take:

** **Manually uninstall, then reinstall {elastic-endpoint} on affected hosts**: Remove an invalid {elastic-endpoint} installation by running the {elastic-endpoint} <<uninstall-endpoint,uninstall command>> on affected hosts. Once the uninstallation process has finished, run the following command to restart {agent}, which automatically reinstalls {elastic-endpoint}:
+
[source,console]
--------------------------------------------------
c:\Program Files\Elastic\Agent\elastic-agent.exe restart
--------------------------------------------------

** **Uninstall, then reinstall the {endpoint-sec} integration on affected hosts**: Uninstalling and reinstalling the {endpoint-sec} integration on affected hosts will also force the uninstallation and reinstallation of {elastic-endpoint} on these hosts.
+
NOTE: Uninstalling the {endpoint-sec} integration may temporarily cause {agent}'s status to be `Unhealthy`. The status will change to `Healthy` once the integration is reinstalled.

** **Downgrade {agent} and {elastic-endpoint} versions**: Downgrading to unaffected {agent} and {elastic-endpoint} versions resolves this issue.

[discrete]
[[bug-fixes-7.17.5]]
==== Bug fixes and enhancements
* Fixes a sorting and tooltip issue in Timeline for non-ECS fields without nested values ({pull}132570[#132570]).
* Fixes a bug that interfered with Windows' boot up process if {elastic-endpoint}'s Protected Process Light (PPL) service wasn't fully uninstalled on the machine (https://github.com/elastic/endpoint/issues/20[#20]).

[discrete]
[[release-notes-7.17.4]]
=== 7.17.4

[discrete]
[[bug-fixes-7.17.4]]
==== Bug fixes and enhancements

* Allows {kibana-ref}/pre-configured-connectors.html[preconfigured connectors] to be used with cases ({pull}130372[#130372]).
* Fixes a trusted applications path bug that caused a timeout error when users defined a matching `Path` value without wildcards ({pull}131085[#131085]).
* Fixes sorting issues that were related to unmapped fields ({pull}132190[#132190]).

[discrete]
[[release-notes-7.17.3]]
=== 7.17.3

[discrete]
[[bug-fixes-7.17.3]]
==== Bug fixes and enhancements
* Fixes a bug that prevented more than 20 pinned events from displaying when opening an existing Timeline ({pull}128852[#128852]).
* Allows alerts without a populated `meta` field to be investigated in a Timeline ({pull}129427[#129427]).

[discrete]
[[release-notes-7.17.2]]
=== 7.17.2

[discrete]
[[bug-fixes-7.17.2]]
==== Bug fixes and enhancements
* Fixes an {endpoint-sec} integration bug that prevented benign Windows files from being deleted under certain circumstances.
* Ensures {endpoint-sec} continues to run on all supported Windows versions by changing the primary signer of the `elastic-endpoint.exe` file from `ELASTICSEARCH B.V.` to `Elasticsearch, Inc.` (https://github.com/elastic/endpoint/issues/15[#15]).
* Updates the minimum role permissions needed to import rules with actions. After this change, roles must have at least `Read` privileges for the `Actions and Connectors` feature to import rules with actions ({pull}126203[#126203]).

[discrete]
[[release-notes-7.17.1]]
=== 7.17.1

[discrete]
[[known-issue-7.17.1]]
==== Known issues
* An {endpoint-sec} integration bug prevents benign Windows files from being deleted under certain circumstances.

[discrete]
[[release-notes-7.17.0]]
=== 7.17.0

[discrete]
[[known-issue-7.17.0]]
==== Known issues
* On macOS versions before 12.4, if {elastic-endpoint} is used with other products that monitor or manage network traffic (such as antivirus programs, firewalls, or VPNs), users might experience network connection issues. To resolve this issue, upgrade to macOS 12.4 or later.

[discrete]
[[breaking-changes-7.17.0]]
==== Breaking changes
* {kibana-ref}/pre-configured-connectors.html[Preconfigured connectors] cannot be used with cases ({pull}120686[#120686]).

[discrete]
[[bug-fixes-7.17.0]]
==== Bug fixes and enhancements
* Adds detailed telemetry statistics for legacy and regular notifications ({pull}123332[#123332], {pull}122472[#122472]).
* Fixes a bug that changed the message in the *Activity Log* tab when users re-fetched log data for a date range without data ({pull}123039[#123039]).
* Updates privilege checks when users view the *Exceptions* page ({pull}122902[#122902]).
* Removes leftover alert notifications after a rule is deleted ({pull}122610[#122610]).
* Enables cross-space telemetry for cases ({pull}122477[#122477]).
* Updates the *Reporter* column in the Cases table to use usernames instead of full names ({pull}121820[#121820]).
* Improves endpoint performance and warns users that trusted applications with a wildcard path might experience performance impacts ({pull}120349[#120349]).
* Fixes an issue that caused the Cases feature to crash the UI when determining if a connector was deprecated ({pull}120686[#120686]).
